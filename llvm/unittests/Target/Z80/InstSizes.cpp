#include "Z80Subtarget.h"
#include "Z80TargetMachine.h"
#include "llvm/ADT/STLArrayExtras.h"
#include "llvm/ADT/StringRef.h"
#include "llvm/ADT/Triple.h"
#include "llvm/CodeGen/MIRParser/MIRParser.h"
#include "llvm/CodeGen/MachineFunction.h"
#include "llvm/CodeGen/MachineModuleInfo.h"
#include "llvm/IR/Function.h"
#include "llvm/IR/LLVMContext.h"
#include "llvm/IR/Module.h"
#include "llvm/MC/TargetRegistry.h"
#include "llvm/Support/FormatAdapters.h"
#include "llvm/Support/FormatVariadic.h"
#include "llvm/Support/MemoryBuffer.h"
#include "llvm/Support/TargetSelect.h"
#include "llvm/Support/raw_ostream.h"
#include "llvm/Target/TargetMachine.h"
#include <array>
#include <utility>

#include "gtest/gtest.h"

using namespace llvm;

namespace {
struct Counter : FormatAdapter<std::pair<std::string, int &>> {
  Counter(StringRef Prefix, int &Counter)
      : FormatAdapter<std::pair<std::string, int &>>(
            {std::string(Prefix), Counter}) {}
  void format(raw_ostream &S, StringRef O) override {
    S << Item.first << Item.second;
    if (O == "+")
      ++Item.second;
  }
};

constexpr struct Immediate {
  uint8_t Size[2];
} bi{{1, 1}}, wi{{2, 3}};

class Encoding {
public:
  uint8_t Size[2];
  uint8_t Bytes[6];

  constexpr uint8_t init(uint8_t Byte) {
    init(bi);
    return Byte;
  }
  constexpr uint8_t init(const Immediate &Imm) {
    Size[0] += Imm.Size[0];
    Size[1] += Imm.Size[1];
    return {};
  }

public:
  template <typename... Args>
  constexpr Encoding(Args &&...Init)
      : Size{}, Bytes{init(Init)...} {}
};

constexpr struct TestInstr {
  Encoding Enc;
  const char *MIR;
} TestInstrs[] = {
#define w "{0}"
#define l "{1}"
#define u(r) "${2}" #r
#define csr " csr_{3}z80_c"
#define bb " %{4}"
#define def_bb "\n\n  {4:+}:"
#define nz " 0"
#define z " 1"
#define nc " 2"
#define c " 3"
#define po " 4"
#define pe " 5"
#define p " 6"
#define m " 7"
#define imp_def(r) " implicit-def $" #r
#define imp_def_u(r) " implicit-def " u(r)
#define imp(r) " implicit $" #r
#define imp_u(r) " implicit " u(r)
    {{0x00}, "NOP"},
    {{0x01, wi}, u(bc) " = LD" w "ri i" w " 0"},
    {{0x02}, "LD8pa " u(bc) "," imp(a)},
    {{0x03}, u(bc) " = INC" w "r " u(bc) ""},
    {{0x04}, "$b = INC8r $b," imp_def(f)},
    {{0x05}, "$b = DEC8r $b," imp_def(f)},
    {{0x06, bi}, "$b = LD8ri i8 0"},
    {{0x07}, "RLCA" imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x08}, "EXAF" imp_def(af) "," imp(af)},
    {{0x09}, u(hl) " = ADD" w "ao " u(hl) ", " u(bc) "," imp_def(f)},
    {{0x0A}, "LD8ap " u(bc) "," imp_def(a)},
    {{0x0B}, u(bc) " = DEC" w "r " u(bc) ""},
    {{0x0C}, "$c = INC8r $c," imp_def(f)},
    {{0x0D}, "$c = DEC8r $c," imp_def(f)},
    {{0x0E, bi}, "$c = LD8ri i8 0"},
    {{0x0F}, "RRCA" imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x10, bi}, "DJNZ" bb "," imp_def(b) "," imp(b) def_bb},
    {{0x11, wi}, u(de) " = LD" w "ri i" w " 0"},
    {{0x12}, "LD8pa " u(de) "," imp(a)},
    {{0x13}, u(de) " = INC" w "r " u(de) ""},
    {{0x14}, "$d = INC8r $d," imp_def(f)},
    {{0x15}, "$d = DEC8r $d," imp_def(f)},
    {{0x16, bi}, "$d = LD8ri i8 0"},
    {{0x17}, "RLA" imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x18, bi}, "JR" bb def_bb},
    {{0x19}, u(hl) " = ADD" w "ao " u(hl) ", " u(de) "," imp_def(f)},
    {{0x1A}, "LD8ap " u(de) "," imp_def(a)},
    {{0x1B}, u(de) " = DEC" w "r " u(de) ""},
    {{0x1C}, "$e = INC8r $e," imp_def(f)},
    {{0x1D}, "$e = DEC8r $e," imp_def(f)},
    {{0x1E, bi}, "$e = LD8ri i8 0"},
    {{0x1F}, "RRA" imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x20, bi}, "JRCC" bb "," nz "," imp(f) def_bb},
    {{0x21, wi}, u(hl) " = LD" w "ri i" w " 0"},
    {{0x22, wi}, "LD" w "ma 0, " u(hl) ""},
    {{0x23}, u(hl) " = INC" w "r " u(hl) ""},
    {{0x24}, "$h = INC8r $h," imp_def(f)},
    {{0x25}, "$h = DEC8r $h," imp_def(f)},
    {{0x26, bi}, "$h = LD8ri i8 0"},
    {{0x27}, "DAA" imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x28, bi}, "JRCC" bb "," z "," imp(f) def_bb},
    {{0x29}, u(hl) " = ADD" w "aa " u(hl) "," imp_def(f)},
    {{0x2A, wi}, u(hl) " = LD" w "am 0"},
    {{0x2B}, u(hl) " = DEC" w "r " u(hl) ""},
    {{0x2C}, "$l = INC8r $l," imp_def(f)},
    {{0x2D}, "$l = DEC8r $l," imp_def(f)},
    {{0x2E, bi}, "$l = LD8ri i8 0"},
    {{0x2F}, "CPL" imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x30, bi}, "JRCC" bb "," nc "," imp(f) def_bb},
    {{0x31, wi}, "LD" w "si i" w " 0," imp_def(sp) l},
    {{0x32, wi}, "LD8ma 0," imp(a)},
    {{0x33}, "INC" w "s" imp_def(sp) l "," imp(sp) l},
    {{0x34}, "INC8p " u(hl) "," imp_def(f)},
    {{0x35}, "DEC8p " u(hl) "," imp_def(f)},
    {{0x36, bi}, "LD8pi " u(hl) ", i8 0"},
    {{0x37}, "SCF" imp_def(f)},
    {{0x38, bi}, "JRCC" bb "," c "," imp(f) def_bb},
    {{0x39}, u(hl) " = ADD" w "as " u(hl) "," imp_def(f) "," imp(sp) l},
    {{0x3A, wi}, "LD8am 0," imp_def(a)},
    {{0x3B}, "DEC" w "s" imp_def(sp) l "," imp(sp) l},
    {{0x3C}, "$a = INC8r $a," imp_def(f)},
    {{0x3D}, "$a = DEC8r $a," imp_def(f)},
    {{0x3E, bi}, "$a = LD8ri i8 0"},
    {{0x3F}, "CCF" imp_def(f) "," imp(f)},
    {{0x40}, "$b = LD8gg $b"},
    {{0x41}, "$b = LD8gg $c"},
    {{0x42}, "$b = LD8gg $d"},
    {{0x43}, "$b = LD8gg $e"},
    {{0x44}, "$b = LD8gg $h"},
    {{0x45}, "$b = LD8gg $l"},
    {{0x46}, "$b = LD8gp " u(hl) ""},
    {{0x47}, "$b = LD8gg $a"},
    {{0x48}, "$c = LD8gg $b"},
    {{0x49}, "$c = LD8gg $c"},
    {{0x4A}, "$c = LD8gg $d"},
    {{0x4B}, "$c = LD8gg $e"},
    {{0x4C}, "$c = LD8gg $h"},
    {{0x4D}, "$c = LD8gg $l"},
    {{0x4E}, "$c = LD8gp " u(hl) ""},
    {{0x4F}, "$c = LD8gg $a"},
    {{0x50}, "$d = LD8gg $b"},
    {{0x51}, "$d = LD8gg $c"},
    {{0x52}, "$d = LD8gg $d"},
    {{0x53}, "$d = LD8gg $e"},
    {{0x54}, "$d = LD8gg $h"},
    {{0x55}, "$d = LD8gg $l"},
    {{0x56}, "$d = LD8gp " u(hl) ""},
    {{0x57}, "$d = LD8gg $a"},
    {{0x58}, "$e = LD8gg $b"},
    {{0x59}, "$e = LD8gg $c"},
    {{0x5A}, "$e = LD8gg $d"},
    {{0x5B}, "$e = LD8gg $e"},
    {{0x5C}, "$e = LD8gg $h"},
    {{0x5D}, "$e = LD8gg $l"},
    {{0x5E}, "$e = LD8gp " u(hl) ""},
    {{0x5F}, "$e = LD8gg $a"},
    {{0x60}, "$h = LD8gg $b"},
    {{0x61}, "$h = LD8gg $c"},
    {{0x62}, "$h = LD8gg $d"},
    {{0x63}, "$h = LD8gg $e"},
    {{0x64}, "$h = LD8gg $h"},
    {{0x65}, "$h = LD8gg $l"},
    {{0x66}, "$h = LD8gp " u(hl) ""},
    {{0x67}, "$h = LD8gg $a"},
    {{0x68}, "$l = LD8gg $b"},
    {{0x69}, "$l = LD8gg $c"},
    {{0x6A}, "$l = LD8gg $d"},
    {{0x6B}, "$l = LD8gg $e"},
    {{0x6C}, "$l = LD8gg $h"},
    {{0x6D}, "$l = LD8gg $l"},
    {{0x6E}, "$l = LD8gp " u(hl) ""},
    {{0x6F}, "$l = LD8gg $a"},
    {{0x70}, "LD8pg " u(hl) ", $b"},
    {{0x71}, "LD8pg " u(hl) ", $c"},
    {{0x72}, "LD8pg " u(hl) ", $d"},
    {{0x73}, "LD8pg " u(hl) ", $e"},
    {{0x74}, "LD8pg " u(hl) ", $h"},
    {{0x75}, "LD8pg " u(hl) ", $l"},
    {{0x76}, "HALT"},
    {{0x77}, "LD8pg " u(hl) ", $a"},
    {{0x78}, "$a = LD8gg $b"},
    {{0x79}, "$a = LD8gg $c"},
    {{0x7A}, "$a = LD8gg $d"},
    {{0x7B}, "$a = LD8gg $e"},
    {{0x7C}, "$a = LD8gg $h"},
    {{0x7D}, "$a = LD8gg $l"},
    {{0x7E}, "$a = LD8gp " u(hl) ""},
    {{0x7F}, "$a = LD8gg $a"},
    {{0x80}, "ADD8ar $b," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x81}, "ADD8ar $c," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x82}, "ADD8ar $d," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x83}, "ADD8ar $e," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x84}, "ADD8ar $h," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x85}, "ADD8ar $l," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x86}, "ADD8ap " u(hl) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x87}, "ADD8ar $a," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x88}, "ADC8ar $b," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x89}, "ADC8ar $c," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x8A}, "ADC8ar $d," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x8B}, "ADC8ar $e," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x8C}, "ADC8ar $h," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x8D}, "ADC8ar $l," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x8E}, "ADC8ap " u(hl) "," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x8F}, "ADC8ar $a," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x90}, "SUB8ar $b," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x91}, "SUB8ar $c," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x92}, "SUB8ar $d," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x93}, "SUB8ar $e," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x94}, "SUB8ar $h," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x95}, "SUB8ar $l," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x96}, "SUB8ap " u(hl) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x97}, "SUB8ar $a," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0x98}, "SBC8ar $b," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x99}, "SBC8ar $c," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x9A}, "SBC8ar $d," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x9B}, "SBC8ar $e," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x9C}, "SBC8ar $h," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x9D}, "SBC8ar $l," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x9E}, "SBC8ap " u(hl) "," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0x9F}, "SBC8ar $a," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xA0}, "AND8ar $b," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xA1}, "AND8ar $c," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xA2}, "AND8ar $d," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xA3}, "AND8ar $e," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xA4}, "AND8ar $h," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xA5}, "AND8ar $l," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xA6}, "AND8ap " u(hl) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xA7}, "AND8ar $a," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xA8}, "XOR8ar $b," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xA9}, "XOR8ar $c," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xAA}, "XOR8ar $d," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xAB}, "XOR8ar $e," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xAC}, "XOR8ar $h," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xAD}, "XOR8ar $l," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xAE}, "XOR8ap " u(hl) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xAF}, "XOR8ar $a," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xB0}, "OR8ar $b," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xB1}, "OR8ar $c," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xB2}, "OR8ar $d," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xB3}, "OR8ar $e," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xB4}, "OR8ar $h," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xB5}, "OR8ar $l," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xB6}, "OR8ap " u(hl) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xB7}, "OR8ar $a," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xB8}, "CP8ar $b," imp_def(f) "," imp(a)},
    {{0xB9}, "CP8ar $c," imp_def(f) "," imp(a)},
    {{0xBA}, "CP8ar $d," imp_def(f) "," imp(a)},
    {{0xBB}, "CP8ar $e," imp_def(f) "," imp(a)},
    {{0xBC}, "CP8ar $h," imp_def(f) "," imp(a)},
    {{0xBD}, "CP8ar $l," imp_def(f) "," imp(a)},
    {{0xBE}, "CP8ap " u(hl) "," imp_def(f) "," imp(a)},
    {{0xBF}, "CP8ar $a," imp_def(f) "," imp(a)},
    {{0xC0}, "RET" w "CC" nz "," imp_def(sp) l "," imp(f) "," imp(sp) l def_bb},
    {{0xC1}, u(bc) " = POP" w "r" imp_def(sp) l "," imp(sp) l},
    {{0xC2, wi}, "JP" w "CC" bb "," nz "," imp(f) def_bb},
    {{0xC3, wi}, "JP" w bb def_bb},
    {{0xC4, wi}, "CALL" w "CC 0," nz "," csr "," imp(f) "," imp(sp) l},
    {{0xC5}, "PUSH" w "r " u(bc) "," imp_def(sp) l "," imp(sp) l},
    {{0xC6, bi}, "ADD8ai 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xC7}, "RST" w " 0," imp_def(sp) l "," imp(sp) l},
    {{0xC8}, "RET" w "CC" z "," imp_def(sp) l "," imp(f) "," imp(sp) l def_bb},
    {{0xC9}, "RET" w imp_def(sp) l "," imp(sp) l def_bb},
    {{0xCA, wi}, "JP" w "CC" bb "," z "," imp(f) def_bb},
    {{0xCB, 0x00}, "$b = RLC8r $b," imp_def(f)},
    {{0xCB, 0x01}, "$c = RLC8r $c," imp_def(f)},
    {{0xCB, 0x02}, "$d = RLC8r $d," imp_def(f)},
    {{0xCB, 0x03}, "$e = RLC8r $e," imp_def(f)},
    {{0xCB, 0x04}, "$h = RLC8r $h," imp_def(f)},
    {{0xCB, 0x05}, "$l = RLC8r $l," imp_def(f)},
    {{0xCB, 0x06}, "RLC8p " u(hl) "," imp_def(f)},
    {{0xCB, 0x07}, "$a = RLC8r $a," imp_def(f)},
    {{0xCB, 0x08}, "$b = RRC8r $b," imp_def(f)},
    {{0xCB, 0x09}, "$c = RRC8r $c," imp_def(f)},
    {{0xCB, 0x0A}, "$d = RRC8r $d," imp_def(f)},
    {{0xCB, 0x0B}, "$e = RRC8r $e," imp_def(f)},
    {{0xCB, 0x0C}, "$h = RRC8r $h," imp_def(f)},
    {{0xCB, 0x0D}, "$l = RRC8r $l," imp_def(f)},
    {{0xCB, 0x0E}, "RRC8p " u(hl) "," imp_def(f)},
    {{0xCB, 0x0F}, "$a = RRC8r $a," imp_def(f)},
    {{0xCB, 0x10}, "$b = RL8r $b," imp_def(f) "," imp(f)},
    {{0xCB, 0x11}, "$c = RL8r $c," imp_def(f) "," imp(f)},
    {{0xCB, 0x12}, "$d = RL8r $d," imp_def(f) "," imp(f)},
    {{0xCB, 0x13}, "$e = RL8r $e," imp_def(f) "," imp(f)},
    {{0xCB, 0x14}, "$h = RL8r $h," imp_def(f) "," imp(f)},
    {{0xCB, 0x15}, "$l = RL8r $l," imp_def(f) "," imp(f)},
    {{0xCB, 0x16}, "RL8p " u(hl) "," imp_def(f) "," imp(f)},
    {{0xCB, 0x17}, "$a = RL8r $a," imp_def(f) "," imp(f)},
    {{0xCB, 0x18}, "$b = RR8r $b," imp_def(f) "," imp(f)},
    {{0xCB, 0x19}, "$c = RR8r $c," imp_def(f) "," imp(f)},
    {{0xCB, 0x1A}, "$d = RR8r $d," imp_def(f) "," imp(f)},
    {{0xCB, 0x1B}, "$e = RR8r $e," imp_def(f) "," imp(f)},
    {{0xCB, 0x1C}, "$h = RR8r $h," imp_def(f) "," imp(f)},
    {{0xCB, 0x1D}, "$l = RR8r $l," imp_def(f) "," imp(f)},
    {{0xCB, 0x1E}, "RR8p " u(hl) "," imp_def(f) "," imp(f)},
    {{0xCB, 0x1F}, "$a = RR8r $a," imp_def(f) "," imp(f)},
    {{0xCB, 0x20}, "$b = SLA8r $b," imp_def(f)},
    {{0xCB, 0x21}, "$c = SLA8r $c," imp_def(f)},
    {{0xCB, 0x22}, "$d = SLA8r $d," imp_def(f)},
    {{0xCB, 0x23}, "$e = SLA8r $e," imp_def(f)},
    {{0xCB, 0x24}, "$h = SLA8r $h," imp_def(f)},
    {{0xCB, 0x25}, "$l = SLA8r $l," imp_def(f)},
    {{0xCB, 0x26}, "SLA8p " u(hl) "," imp_def(f)},
    {{0xCB, 0x27}, "$a = SLA8r $a," imp_def(f)},
    {{0xCB, 0x28}, "$b = SRA8r $b," imp_def(f)},
    {{0xCB, 0x29}, "$c = SRA8r $c," imp_def(f)},
    {{0xCB, 0x2A}, "$d = SRA8r $d," imp_def(f)},
    {{0xCB, 0x2B}, "$e = SRA8r $e," imp_def(f)},
    {{0xCB, 0x2C}, "$h = SRA8r $h," imp_def(f)},
    {{0xCB, 0x2D}, "$l = SRA8r $l," imp_def(f)},
    {{0xCB, 0x2E}, "SRA8p " u(hl) "," imp_def(f)},
    {{0xCB, 0x2F}, "$a = SRA8r $a," imp_def(f)},
    {{0xCB, 0x30}, "$b = SLI8r $b," imp_def(f)},
    {{0xCB, 0x31}, "$c = SLI8r $c," imp_def(f)},
    {{0xCB, 0x32}, "$d = SLI8r $d," imp_def(f)},
    {{0xCB, 0x33}, "$e = SLI8r $e," imp_def(f)},
    {{0xCB, 0x34}, "$h = SLI8r $h," imp_def(f)},
    {{0xCB, 0x35}, "$l = SLI8r $l," imp_def(f)},
    {{0xCB, 0x36}, "SLI8p " u(hl) "," imp_def(f)},
    {{0xCB, 0x37}, "$a = SLI8r $a," imp_def(f)},
    {{0xCB, 0x38}, "$b = SRL8r $b," imp_def(f)},
    {{0xCB, 0x39}, "$c = SRL8r $c," imp_def(f)},
    {{0xCB, 0x3A}, "$d = SRL8r $d," imp_def(f)},
    {{0xCB, 0x3B}, "$e = SRL8r $e," imp_def(f)},
    {{0xCB, 0x3C}, "$h = SRL8r $h," imp_def(f)},
    {{0xCB, 0x3D}, "$l = SRL8r $l," imp_def(f)},
    {{0xCB, 0x3E}, "SRL8p " u(hl) "," imp_def(f)},
    {{0xCB, 0x3F}, "$a = SRL8r $a," imp_def(f)},
    {{0xCB, 0x40}, "BIT8gb $b, 0," imp_def(f)},
    {{0xCB, 0x41}, "BIT8gb $c, 0," imp_def(f)},
    {{0xCB, 0x42}, "BIT8gb $d, 0," imp_def(f)},
    {{0xCB, 0x43}, "BIT8gb $e, 0," imp_def(f)},
    {{0xCB, 0x44}, "BIT8gb $h, 0," imp_def(f)},
    {{0xCB, 0x45}, "BIT8gb $l, 0," imp_def(f)},
    {{0xCB, 0x46}, "BIT8pb " u(hl) ", 0," imp_def(f)},
    {{0xCB, 0x47}, "BIT8gb $a, 0," imp_def(f)},
    {{0xCB, 0x48}, "BIT8gb $b, 1," imp_def(f)},
    {{0xCB, 0x49}, "BIT8gb $c, 1," imp_def(f)},
    {{0xCB, 0x4A}, "BIT8gb $d, 1," imp_def(f)},
    {{0xCB, 0x4B}, "BIT8gb $e, 1," imp_def(f)},
    {{0xCB, 0x4C}, "BIT8gb $h, 1," imp_def(f)},
    {{0xCB, 0x4D}, "BIT8gb $l, 1," imp_def(f)},
    {{0xCB, 0x4E}, "BIT8pb " u(hl) ", 1," imp_def(f)},
    {{0xCB, 0x4F}, "BIT8gb $a, 1," imp_def(f)},
    {{0xCB, 0x50}, "BIT8gb $b, 2," imp_def(f)},
    {{0xCB, 0x51}, "BIT8gb $c, 2," imp_def(f)},
    {{0xCB, 0x52}, "BIT8gb $d, 2," imp_def(f)},
    {{0xCB, 0x53}, "BIT8gb $e, 2," imp_def(f)},
    {{0xCB, 0x54}, "BIT8gb $h, 2," imp_def(f)},
    {{0xCB, 0x55}, "BIT8gb $l, 2," imp_def(f)},
    {{0xCB, 0x56}, "BIT8pb " u(hl) ", 2," imp_def(f)},
    {{0xCB, 0x57}, "BIT8gb $a, 2," imp_def(f)},
    {{0xCB, 0x58}, "BIT8gb $b, 3," imp_def(f)},
    {{0xCB, 0x59}, "BIT8gb $c, 3," imp_def(f)},
    {{0xCB, 0x5A}, "BIT8gb $d, 3," imp_def(f)},
    {{0xCB, 0x5B}, "BIT8gb $e, 3," imp_def(f)},
    {{0xCB, 0x5C}, "BIT8gb $h, 3," imp_def(f)},
    {{0xCB, 0x5D}, "BIT8gb $l, 3," imp_def(f)},
    {{0xCB, 0x5E}, "BIT8pb " u(hl) ", 3," imp_def(f)},
    {{0xCB, 0x5F}, "BIT8gb $a, 3," imp_def(f)},
    {{0xCB, 0x60}, "BIT8gb $b, 4," imp_def(f)},
    {{0xCB, 0x61}, "BIT8gb $c, 4," imp_def(f)},
    {{0xCB, 0x62}, "BIT8gb $d, 4," imp_def(f)},
    {{0xCB, 0x63}, "BIT8gb $e, 4," imp_def(f)},
    {{0xCB, 0x64}, "BIT8gb $h, 4," imp_def(f)},
    {{0xCB, 0x65}, "BIT8gb $l, 4," imp_def(f)},
    {{0xCB, 0x66}, "BIT8pb " u(hl) ", 4," imp_def(f)},
    {{0xCB, 0x67}, "BIT8gb $a, 4," imp_def(f)},
    {{0xCB, 0x68}, "BIT8gb $b, 5," imp_def(f)},
    {{0xCB, 0x69}, "BIT8gb $c, 5," imp_def(f)},
    {{0xCB, 0x6A}, "BIT8gb $d, 5," imp_def(f)},
    {{0xCB, 0x6B}, "BIT8gb $e, 5," imp_def(f)},
    {{0xCB, 0x6C}, "BIT8gb $h, 5," imp_def(f)},
    {{0xCB, 0x6D}, "BIT8gb $l, 5," imp_def(f)},
    {{0xCB, 0x6E}, "BIT8pb " u(hl) ", 5," imp_def(f)},
    {{0xCB, 0x6F}, "BIT8gb $a, 5," imp_def(f)},
    {{0xCB, 0x70}, "BIT8gb $b, 6," imp_def(f)},
    {{0xCB, 0x71}, "BIT8gb $c, 6," imp_def(f)},
    {{0xCB, 0x72}, "BIT8gb $d, 6," imp_def(f)},
    {{0xCB, 0x73}, "BIT8gb $e, 6," imp_def(f)},
    {{0xCB, 0x74}, "BIT8gb $h, 6," imp_def(f)},
    {{0xCB, 0x75}, "BIT8gb $l, 6," imp_def(f)},
    {{0xCB, 0x76}, "BIT8pb " u(hl) ", 6," imp_def(f)},
    {{0xCB, 0x77}, "BIT8gb $a, 6," imp_def(f)},
    {{0xCB, 0x78}, "BIT8gb $b, 7," imp_def(f)},
    {{0xCB, 0x79}, "BIT8gb $c, 7," imp_def(f)},
    {{0xCB, 0x7A}, "BIT8gb $d, 7," imp_def(f)},
    {{0xCB, 0x7B}, "BIT8gb $e, 7," imp_def(f)},
    {{0xCB, 0x7C}, "BIT8gb $h, 7," imp_def(f)},
    {{0xCB, 0x7D}, "BIT8gb $l, 7," imp_def(f)},
    {{0xCB, 0x7E}, "BIT8pb " u(hl) ", 7," imp_def(f)},
    {{0xCB, 0x7F}, "BIT8gb $a, 7," imp_def(f)},
    {{0xCB, 0x80}, "$b = RES8gb $b, 0"},
    {{0xCB, 0x81}, "$c = RES8gb $c, 0"},
    {{0xCB, 0x82}, "$d = RES8gb $d, 0"},
    {{0xCB, 0x83}, "$e = RES8gb $e, 0"},
    {{0xCB, 0x84}, "$h = RES8gb $h, 0"},
    {{0xCB, 0x85}, "$l = RES8gb $l, 0"},
    {{0xCB, 0x86}, "RES8pb " u(hl) ", 0"},
    {{0xCB, 0x87}, "$a = RES8gb $a, 0"},
    {{0xCB, 0x88}, "$b = RES8gb $b, 1"},
    {{0xCB, 0x89}, "$c = RES8gb $c, 1"},
    {{0xCB, 0x8A}, "$d = RES8gb $d, 1"},
    {{0xCB, 0x8B}, "$e = RES8gb $e, 1"},
    {{0xCB, 0x8C}, "$h = RES8gb $h, 1"},
    {{0xCB, 0x8D}, "$l = RES8gb $l, 1"},
    {{0xCB, 0x8E}, "RES8pb " u(hl) ", 1"},
    {{0xCB, 0x8F}, "$a = RES8gb $a, 1"},
    {{0xCB, 0x90}, "$b = RES8gb $b, 2"},
    {{0xCB, 0x91}, "$c = RES8gb $c, 2"},
    {{0xCB, 0x92}, "$d = RES8gb $d, 2"},
    {{0xCB, 0x93}, "$e = RES8gb $e, 2"},
    {{0xCB, 0x94}, "$h = RES8gb $h, 2"},
    {{0xCB, 0x95}, "$l = RES8gb $l, 2"},
    {{0xCB, 0x96}, "RES8pb " u(hl) ", 2"},
    {{0xCB, 0x97}, "$a = RES8gb $a, 2"},
    {{0xCB, 0x98}, "$b = RES8gb $b, 3"},
    {{0xCB, 0x99}, "$c = RES8gb $c, 3"},
    {{0xCB, 0x9A}, "$d = RES8gb $d, 3"},
    {{0xCB, 0x9B}, "$e = RES8gb $e, 3"},
    {{0xCB, 0x9C}, "$h = RES8gb $h, 3"},
    {{0xCB, 0x9D}, "$l = RES8gb $l, 3"},
    {{0xCB, 0x9E}, "RES8pb " u(hl) ", 3"},
    {{0xCB, 0x9F}, "$a = RES8gb $a, 3"},
    {{0xCB, 0xA0}, "$b = RES8gb $b, 4"},
    {{0xCB, 0xA1}, "$c = RES8gb $c, 4"},
    {{0xCB, 0xA2}, "$d = RES8gb $d, 4"},
    {{0xCB, 0xA3}, "$e = RES8gb $e, 4"},
    {{0xCB, 0xA4}, "$h = RES8gb $h, 4"},
    {{0xCB, 0xA5}, "$l = RES8gb $l, 4"},
    {{0xCB, 0xA6}, "RES8pb " u(hl) ", 4"},
    {{0xCB, 0xA7}, "$a = RES8gb $a, 4"},
    {{0xCB, 0xA8}, "$b = RES8gb $b, 5"},
    {{0xCB, 0xA9}, "$c = RES8gb $c, 5"},
    {{0xCB, 0xAA}, "$d = RES8gb $d, 5"},
    {{0xCB, 0xAB}, "$e = RES8gb $e, 5"},
    {{0xCB, 0xAC}, "$h = RES8gb $h, 5"},
    {{0xCB, 0xAD}, "$l = RES8gb $l, 5"},
    {{0xCB, 0xAE}, "RES8pb " u(hl) ", 5"},
    {{0xCB, 0xAF}, "$a = RES8gb $a, 5"},
    {{0xCB, 0xB0}, "$b = RES8gb $b, 6"},
    {{0xCB, 0xB1}, "$c = RES8gb $c, 6"},
    {{0xCB, 0xB2}, "$d = RES8gb $d, 6"},
    {{0xCB, 0xB3}, "$e = RES8gb $e, 6"},
    {{0xCB, 0xB4}, "$h = RES8gb $h, 6"},
    {{0xCB, 0xB5}, "$l = RES8gb $l, 6"},
    {{0xCB, 0xB6}, "RES8pb " u(hl) ", 6"},
    {{0xCB, 0xB7}, "$a = RES8gb $a, 6"},
    {{0xCB, 0xB8}, "$b = RES8gb $b, 7"},
    {{0xCB, 0xB9}, "$c = RES8gb $c, 7"},
    {{0xCB, 0xBA}, "$d = RES8gb $d, 7"},
    {{0xCB, 0xBB}, "$e = RES8gb $e, 7"},
    {{0xCB, 0xBC}, "$h = RES8gb $h, 7"},
    {{0xCB, 0xBD}, "$l = RES8gb $l, 7"},
    {{0xCB, 0xBE}, "RES8pb " u(hl) ", 7"},
    {{0xCB, 0xBF}, "$a = RES8gb $a, 7"},
    {{0xCB, 0xC0}, "$b = SET8gb $b, 0"},
    {{0xCB, 0xC1}, "$c = SET8gb $c, 0"},
    {{0xCB, 0xC2}, "$d = SET8gb $d, 0"},
    {{0xCB, 0xC3}, "$e = SET8gb $e, 0"},
    {{0xCB, 0xC4}, "$h = SET8gb $h, 0"},
    {{0xCB, 0xC5}, "$l = SET8gb $l, 0"},
    {{0xCB, 0xC6}, "SET8pb " u(hl) ", 0"},
    {{0xCB, 0xC7}, "$a = SET8gb $a, 0"},
    {{0xCB, 0xC8}, "$b = SET8gb $b, 1"},
    {{0xCB, 0xC9}, "$c = SET8gb $c, 1"},
    {{0xCB, 0xCA}, "$d = SET8gb $d, 1"},
    {{0xCB, 0xCB}, "$e = SET8gb $e, 1"},
    {{0xCB, 0xCC}, "$h = SET8gb $h, 1"},
    {{0xCB, 0xCD}, "$l = SET8gb $l, 1"},
    {{0xCB, 0xCE}, "SET8pb " u(hl) ", 1"},
    {{0xCB, 0xCF}, "$a = SET8gb $a, 1"},
    {{0xCB, 0xD0}, "$b = SET8gb $b, 2"},
    {{0xCB, 0xD1}, "$c = SET8gb $c, 2"},
    {{0xCB, 0xD2}, "$d = SET8gb $d, 2"},
    {{0xCB, 0xD3}, "$e = SET8gb $e, 2"},
    {{0xCB, 0xD4}, "$h = SET8gb $h, 2"},
    {{0xCB, 0xD5}, "$l = SET8gb $l, 2"},
    {{0xCB, 0xD6}, "SET8pb " u(hl) ", 2"},
    {{0xCB, 0xD7}, "$a = SET8gb $a, 2"},
    {{0xCB, 0xD8}, "$b = SET8gb $b, 3"},
    {{0xCB, 0xD9}, "$c = SET8gb $c, 3"},
    {{0xCB, 0xDA}, "$d = SET8gb $d, 3"},
    {{0xCB, 0xDB}, "$e = SET8gb $e, 3"},
    {{0xCB, 0xDC}, "$h = SET8gb $h, 3"},
    {{0xCB, 0xDD}, "$l = SET8gb $l, 3"},
    {{0xCB, 0xDE}, "SET8pb " u(hl) ", 3"},
    {{0xCB, 0xDF}, "$a = SET8gb $a, 3"},
    {{0xCB, 0xE0}, "$b = SET8gb $b, 4"},
    {{0xCB, 0xE1}, "$c = SET8gb $c, 4"},
    {{0xCB, 0xE2}, "$d = SET8gb $d, 4"},
    {{0xCB, 0xE3}, "$e = SET8gb $e, 4"},
    {{0xCB, 0xE4}, "$h = SET8gb $h, 4"},
    {{0xCB, 0xE5}, "$l = SET8gb $l, 4"},
    {{0xCB, 0xE6}, "SET8pb " u(hl) ", 4"},
    {{0xCB, 0xE7}, "$a = SET8gb $a, 4"},
    {{0xCB, 0xE8}, "$b = SET8gb $b, 5"},
    {{0xCB, 0xE9}, "$c = SET8gb $c, 5"},
    {{0xCB, 0xEA}, "$d = SET8gb $d, 5"},
    {{0xCB, 0xEB}, "$e = SET8gb $e, 5"},
    {{0xCB, 0xEC}, "$h = SET8gb $h, 5"},
    {{0xCB, 0xED}, "$l = SET8gb $l, 5"},
    {{0xCB, 0xEE}, "SET8pb " u(hl) ", 5"},
    {{0xCB, 0xEF}, "$a = SET8gb $a, 5"},
    {{0xCB, 0xF0}, "$b = SET8gb $b, 6"},
    {{0xCB, 0xF1}, "$c = SET8gb $c, 6"},
    {{0xCB, 0xF2}, "$d = SET8gb $d, 6"},
    {{0xCB, 0xF3}, "$e = SET8gb $e, 6"},
    {{0xCB, 0xF4}, "$h = SET8gb $h, 6"},
    {{0xCB, 0xF5}, "$l = SET8gb $l, 6"},
    {{0xCB, 0xF6}, "SET8pb " u(hl) ", 6"},
    {{0xCB, 0xF7}, "$a = SET8gb $a, 6"},
    {{0xCB, 0xF8}, "$b = SET8gb $b, 7"},
    {{0xCB, 0xF9}, "$c = SET8gb $c, 7"},
    {{0xCB, 0xFA}, "$d = SET8gb $d, 7"},
    {{0xCB, 0xFB}, "$e = SET8gb $e, 7"},
    {{0xCB, 0xFC}, "$h = SET8gb $h, 7"},
    {{0xCB, 0xFD}, "$l = SET8gb $l, 7"},
    {{0xCB, 0xFE}, "SET8pb " u(hl) ", 7"},
    {{0xCB, 0xFF}, "$a = SET8gb $a, 7"},
    {{0xCC, wi}, "CALL" w "CC 0," z "," csr "," imp(f) "," imp(sp) l},
    {{0xCD, wi}, "CALL" w " 0," csr "," imp(sp) l},
    {{0xCE, bi}, "ADC8ai 0," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xCF}, "RST" w " 8," imp_def(sp) l "," imp(sp) l},
    {{0xD0}, "RET" w "CC" nc "," imp_def(sp) l "," imp(f) "," imp(sp) l def_bb},
    {{0xD1}, u(de) " = POP" w "r" imp_def(sp) l "," imp(sp) l},
    {{0xD2, wi}, "JP" w "CC" bb "," nc "," imp(f) def_bb},
    {{0xD3, bi}, "OUT8ma 0," imp(a)},
    {{0xD4, wi}, "CALL" w "CC 0," nc "," csr "," imp(f) "," imp(sp) l},
    {{0xD5}, "PUSH" w "r " u(de) "," imp_def(sp) l "," imp(sp) l},
    {{0xD6, bi}, "SUB8ai 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xD7}, "RST" w " 16," imp_def(sp) l "," imp(sp) l},
    {{0xD8}, "RET" w "CC" c "," imp_def(sp) l "," imp(f) "," imp(sp) l def_bb},
    {{0xD9}, "EXX" w imp_def_u(hl) "," imp_def_u(de) "," imp_def_u(bc) "," imp_u(hl) "," imp_u(de) "," imp_u(bc)},
    {{0xDA, wi}, "JP" w "CC" bb "," c "," imp(f) def_bb},
    {{0xDB, bi}, "IN8am 0," imp_def(a)},
    {{0xDC, wi}, "CALL" w "CC 0," c "," csr "," imp(f) "," imp(sp) l},
    {{0xDD, 0x07, bi}, u(bc) " = LD" w "rp " u(ix)},
    {{0xDD, 0x07, bi}, u(bc) " = LD" w "ro " u(ix) ", 0"},
    {{0xDD, 0x09}, u(ix) " = ADD" w "ao " u(ix) ", " u(bc) "," imp_def(f)},
    {{0xDD, 0x0F, bi}, "LD" w "pr " u(ix) ", " u(bc)},
    {{0xDD, 0x0F, bi}, "LD" w "or " u(ix) ", 0, " u(bc)},
    {{0xDD, 0x17, bi}, u(de) " = LD" w "rp " u(ix)},
    {{0xDD, 0x17, bi}, u(de) " = LD" w "ro " u(ix) ", 0"},
    {{0xDD, 0x19}, u(ix) " = ADD" w "ao " u(ix) ", " u(de) "," imp_def(f)},
    {{0xDD, 0x1F, bi}, "LD" w "pr " u(ix) ", " u(de)},
    {{0xDD, 0x1F, bi}, "LD" w "or " u(ix) ", 0, " u(de)},
    {{0xDD, 0x21, wi}, u(ix) " = LD" w "ri i" w " 0"},
    {{0xDD, 0x22, wi}, "LD" w "ma 0, " u(ix) ""},
    {{0xDD, 0x23}, u(ix) " = INC" w "r " u(ix) ""},
    {{0xDD, 0x24}, "$ixh = INC8r $ixh," imp_def(f)},
    {{0xDD, 0x25}, "$ixh = DEC8r $ixh," imp_def(f)},
    {{0xDD, 0x26, bi}, "$ixh = LD8ri i8 0"},
    {{0xDD, 0x27, bi}, u(hl) " = LD" w "rp " u(ix)},
    {{0xDD, 0x27, bi}, u(hl) " = LD" w "ro " u(ix) ", 0"},
    {{0xDD, 0x29}, u(ix) " = ADD" w "aa " u(ix) "," imp_def(f)},
    {{0xDD, 0x2A, wi}, u(ix) " = LD" w "am 0"},
    {{0xDD, 0x2A}, u(ix) " = DEC" w "r " u(ix) ""},
    {{0xDD, 0x2C}, "$ixl = INC8r $ixl," imp_def(f)},
    {{0xDD, 0x2D}, "$ixl = DEC8r $ixl," imp_def(f)},
    {{0xDD, 0x2E, bi}, "$ixl = LD8ri i8 0"},
    {{0xDD, 0x2F, bi}, "LD" w "pr " u(ix) ", " u(hl)},
    {{0xDD, 0x2F, bi}, "LD" w "or " u(ix) ", 0, " u(hl)},
    {{0xDD, 0x31, bi}, u(iy) " = LD" w "rp " u(ix)},
    {{0xDD, 0x31, bi}, u(iy) " = LD" w "ro " u(ix) ", 0"},
    {{0xDD, 0x34, bi}, "INC8p " u(ix) "," imp_def(f)},
    {{0xDD, 0x34, bi}, "INC8o " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0x35, bi}, "DEC8p " u(ix) "," imp_def(f)},
    {{0xDD, 0x35, bi}, "DEC8o " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0x36, bi, bi}, "LD8pi " u(ix) ", 0"},
    {{0xDD, 0x36, bi, bi}, "LD8oi " u(ix) ", 0, 0"},
    {{0xDD, 0x37, bi}, u(ix) " = LD" w "rp " u(ix)},
    {{0xDD, 0x37, bi}, u(ix) " = LD" w "ro " u(ix) ", 0"},
    {{0xDD, 0x39}, u(ix) " = ADD" w "as " u(ix) "," imp_def(sp) l "," imp_def(f) "," imp(sp)    l},
    {{0xDD, 0x3E, bi}, "LD" w "pr " u(ix) ", " u(iy)},
    {{0xDD, 0x3E, bi}, "LD" w "or " u(ix) ", 0, " u(iy)},
    {{0xDD, 0x3F, bi}, "LD" w "pr " u(ix) ", " u(ix)},
    {{0xDD, 0x3F, bi}, "LD" w "or " u(ix) ", 0, " u(ix)},
    {{0xDD, 0x44}, "$b = LD8xx $ixh"},
    {{0xDD, 0x45}, "$b = LD8xx $ixl"},
    {{0xDD, 0x46, bi}, "$b = LD8gp " u(ix)},
    {{0xDD, 0x46, bi}, "$b = LD8go " u(ix) ", 0"},
    {{0xDD, 0x4C}, "$c = LD8xx $ixh"},
    {{0xDD, 0x4D}, "$c = LD8xx $ixl"},
    {{0xDD, 0x4E, bi}, "$c = LD8gp " u(ix)},
    {{0xDD, 0x4E, bi}, "$c = LD8go " u(ix) ", 0"},
    {{0xDD, 0x54}, "$d = LD8xx $ixh"},
    {{0xDD, 0x55}, "$d = LD8xx $ixl"},
    {{0xDD, 0x56, bi}, "$d = LD8gp " u(ix)},
    {{0xDD, 0x56, bi}, "$d = LD8go " u(ix) ", 0"},
    {{0xDD, 0x5C}, "$e = LD8xx $ixh"},
    {{0xDD, 0x5D}, "$e = LD8xx $ixl"},
    {{0xDD, 0x5E, bi}, "$e = LD8gp " u(ix)},
    {{0xDD, 0x5E, bi}, "$e = LD8go " u(ix) ", 0"},
    {{0xDD, 0x60}, "$ixh = LD8xx $b"},
    {{0xDD, 0x61}, "$ixh = LD8xx $c"},
    {{0xDD, 0x62}, "$ixh = LD8xx $d"},
    {{0xDD, 0x63}, "$ixh = LD8xx $e"},
    {{0xDD, 0x64}, "$ixh = LD8xx $ixh"},
    {{0xDD, 0x65}, "$ixh = LD8xx $ixl"},
    {{0xDD, 0x66, bi}, "$h = LD8gp " u(ix)},
    {{0xDD, 0x66, bi}, "$h = LD8go " u(ix) ", 0"},
    {{0xDD, 0x67}, "$ixh = LD8xx $a"},
    {{0xDD, 0x68}, "$ixl = LD8xx $b"},
    {{0xDD, 0x69}, "$ixl = LD8xx $c"},
    {{0xDD, 0x6A}, "$ixl = LD8xx $d"},
    {{0xDD, 0x6B}, "$ixl = LD8xx $e"},
    {{0xDD, 0x6C}, "$ixl = LD8xx $ixh"},
    {{0xDD, 0x6D}, "$ixl = LD8xx $ixl"},
    {{0xDD, 0x6E, bi}, "$l = LD8gp " u(ix)},
    {{0xDD, 0x6E, bi}, "$l = LD8go " u(ix) ", 0"},
    {{0xDD, 0x6F}, "$ixl = LD8xx $a"},
    {{0xDD, 0x70, bi}, "LD8pg " u(ix) ", $b"},
    {{0xDD, 0x70, bi}, "LD8og " u(ix) ", 0, $b"},
    {{0xDD, 0x71, bi}, "LD8pg " u(ix) ", $c"},
    {{0xDD, 0x71, bi}, "LD8og " u(ix) ", 0, $c"},
    {{0xDD, 0x72, bi}, "LD8pg " u(ix) ", $d"},
    {{0xDD, 0x72, bi}, "LD8og " u(ix) ", 0, $d"},
    {{0xDD, 0x73, bi}, "LD8pg " u(ix) ", $e"},
    {{0xDD, 0x73, bi}, "LD8og " u(ix) ", 0, $e"},
    {{0xDD, 0x74, bi}, "LD8pg " u(ix) ", $h"},
    {{0xDD, 0x74, bi}, "LD8og " u(ix) ", 0, $h"},
    {{0xDD, 0x75, bi}, "LD8pg " u(ix) ", $l"},
    {{0xDD, 0x75, bi}, "LD8og " u(ix) ", 0, $l"},
    {{0xDD, 0x77, bi}, "LD8pg " u(ix) ", $a"},
    {{0xDD, 0x77, bi}, "LD8og " u(ix) ", 0, $a"},
    {{0xDD, 0x7C}, "$a = LD8xx $ixh"},
    {{0xDD, 0x7D}, "$a = LD8xx $ixl"},
    {{0xDD, 0x7E, bi}, "$a = LD8gp " u(ix)},
    {{0xDD, 0x7E, bi}, "$a = LD8go " u(ix) ", 0"},
    {{0xDD, 0x84}, "ADD8ar $ixh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x85}, "ADD8ar $ixl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x86, bi}, "ADD8ap " u(ix) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x86, bi}, "ADD8ao " u(ix) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x8C}, "ADC8ar $ixh," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x8D}, "ADC8ar $ixl," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x8E, bi}, "ADC8ap " u(ix) "," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x8E, bi}, "ADC8ao " u(ix) ", 0," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x94}, "SUB8ar $ixh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x95}, "SUB8ar $ixl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x96, bi}, "SUB8ap " u(ix) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x96, bi}, "SUB8ao " u(ix) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x9C}, "SBC8ar $ixh," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x9D}, "SBC8ar $ixl," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x9E, bi}, "SBC8ap " u(ix) "," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x9E, bi}, "SBC8ao " u(ix) ", 0," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0xA4}, "AND8ar $ixh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xA5}, "AND8ar $ixl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xA6, bi}, "AND8ap " u(ix) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xA6, bi}, "AND8ao " u(ix) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xAC}, "XOR8ar $ixh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xAD}, "XOR8ar $ixl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xAE, bi}, "XOR8ap " u(ix) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xAE, bi}, "XOR8ao " u(ix) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xB4}, "OR8ar $ixh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xB5}, "OR8ar $ixl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xB6, bi}, "OR8ap " u(ix) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xB6, bi}, "OR8ao " u(ix) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xBC}, "CP8ar $ixh," imp_def(f) "," imp(a)},
    {{0xDD, 0xBD}, "CP8ar $ixl," imp_def(f) "," imp(a)},
    {{0xDD, 0xBE, bi}, "CP8ap " u(ix) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xBE, bi}, "CP8ao " u(ix) ", 0," imp_def(f) "," imp(a)},
    {{0xDD, 0xCB, bi, 0x00}, "$b = RLC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x01}, "$c = RLC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x02}, "$d = RLC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x03}, "$e = RLC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x04}, "$h = RLC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x05}, "$l = RLC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x06}, "RLC8p " u(ix) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x06}, "RLC8o " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x07}, "$a = RLC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x08}, "$b = RRC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x09}, "$c = RRC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0A}, "$d = RRC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0B}, "$e = RRC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0C}, "$h = RRC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0D}, "$l = RRC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0E}, "RRC8p " u(ix) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0E}, "RRC8o " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0F}, "$a = RRC8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x10}, "$b = RL8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x11}, "$c = RL8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x12}, "$d = RL8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x13}, "$e = RL8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x14}, "$h = RL8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x15}, "$l = RL8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x16}, "RL8p " u(ix) "," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x16}, "RL8o " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x17}, "$a = RL8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x18}, "$b = RR8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x19}, "$c = RR8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1A}, "$d = RR8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1B}, "$e = RR8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1C}, "$h = RR8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1D}, "$l = RR8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1E}, "RR8p " u(ix) "," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1E}, "RR8o " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1F}, "$a = RR8go " u(ix) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x20}, "$b = SLA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x21}, "$c = SLA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x22}, "$d = SLA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x23}, "$e = SLA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x24}, "$h = SLA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x25}, "$l = SLA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x26}, "SLA8p " u(ix) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x26}, "SLA8o " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x27}, "$a = SLA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x28}, "$b = SRA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x29}, "$c = SRA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2A}, "$d = SRA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2B}, "$e = SRA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2C}, "$h = SRA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2D}, "$l = SRA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2E}, "SRA8p " u(ix) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2E}, "SRA8o " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2F}, "$a = SRA8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x30}, "$b = SLI8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x31}, "$c = SLI8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x32}, "$d = SLI8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x33}, "$e = SLI8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x34}, "$h = SLI8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x35}, "$l = SLI8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x36}, "SLI8p " u(ix) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x36}, "SLI8o " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x37}, "$a = SLI8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x38}, "$b = SRL8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x39}, "$c = SRL8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3A}, "$d = SRL8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3B}, "$e = SRL8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3C}, "$h = SRL8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3D}, "$l = SRL8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3E}, "SRL8p " u(ix) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3E}, "SRL8o " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3F}, "$a = SRL8go " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x46}, "BIT8pb " u(ix) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x46}, "BIT8ob " u(ix) ", 0, 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x4E}, "BIT8pb " u(ix) ", 1," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x4E}, "BIT8ob " u(ix) ", 0, 1," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x56}, "BIT8pb " u(ix) ", 2," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x56}, "BIT8ob " u(ix) ", 0, 2," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x5E}, "BIT8pb " u(ix) ", 3," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x5E}, "BIT8ob " u(ix) ", 0, 3," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x66}, "BIT8pb " u(ix) ", 4," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x66}, "BIT8ob " u(ix) ", 0, 4," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x6E}, "BIT8pb " u(ix) ", 5," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x6E}, "BIT8ob " u(ix) ", 0, 5," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x76}, "BIT8pb " u(ix) ", 6," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x76}, "BIT8ob " u(ix) ", 0, 6," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x7E}, "BIT8pb " u(ix) ", 7," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x7E}, "BIT8ob " u(ix) ", 0, 7," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x80}, "$b = RES8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x81}, "$c = RES8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x82}, "$d = RES8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x83}, "$e = RES8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x84}, "$h = RES8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x85}, "$l = RES8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x86}, "RES8pb " u(ix) ", 0"},
    {{0xDD, 0xCB, bi, 0x86}, "RES8ob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x87}, "$a = RES8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x88}, "$b = RES8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x89}, "$c = RES8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8A}, "$d = RES8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8B}, "$e = RES8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8C}, "$h = RES8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8D}, "$l = RES8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8E}, "RES8pb " u(ix) ", 1"},
    {{0xDD, 0xCB, bi, 0x8E}, "RES8ob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8F}, "$a = RES8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x90}, "$b = RES8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x91}, "$c = RES8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x92}, "$d = RES8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x93}, "$e = RES8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x94}, "$h = RES8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x95}, "$l = RES8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x96}, "RES8pb " u(ix) ", 2"},
    {{0xDD, 0xCB, bi, 0x96}, "RES8ob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x97}, "$a = RES8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x98}, "$b = RES8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x99}, "$c = RES8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9A}, "$d = RES8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9B}, "$e = RES8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9C}, "$h = RES8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9D}, "$l = RES8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9E}, "RES8pb " u(ix) ", 3"},
    {{0xDD, 0xCB, bi, 0x9E}, "RES8ob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9F}, "$a = RES8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xA0}, "$b = RES8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA1}, "$c = RES8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA2}, "$d = RES8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA3}, "$e = RES8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA4}, "$h = RES8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA5}, "$l = RES8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA6}, "RES8pb " u(ix) ", 4"},
    {{0xDD, 0xCB, bi, 0xA6}, "RES8ob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA7}, "$a = RES8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA8}, "$b = RES8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xA9}, "$c = RES8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAA}, "$d = RES8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAB}, "$e = RES8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAC}, "$h = RES8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAD}, "$l = RES8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAE}, "RES8pb " u(ix) ", 5"},
    {{0xDD, 0xCB, bi, 0xAE}, "RES8ob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAF}, "$a = RES8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xB0}, "$b = RES8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB1}, "$c = RES8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB2}, "$d = RES8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB3}, "$e = RES8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB4}, "$h = RES8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB5}, "$l = RES8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB6}, "RES8pb " u(ix) ", 6"},
    {{0xDD, 0xCB, bi, 0xB6}, "RES8ob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB7}, "$a = RES8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB8}, "$b = RES8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xB9}, "$c = RES8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBA}, "$d = RES8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBB}, "$e = RES8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBC}, "$h = RES8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBD}, "$l = RES8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBE}, "RES8pb " u(ix) ", 7"},
    {{0xDD, 0xCB, bi, 0xBE}, "RES8ob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBF}, "$a = RES8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xC0}, "$b = SET8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC1}, "$c = SET8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC2}, "$d = SET8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC3}, "$e = SET8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC4}, "$h = SET8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC5}, "$l = SET8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC6}, "SET8pb " u(ix) ", 0"},
    {{0xDD, 0xCB, bi, 0xC6}, "SET8ob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC7}, "$a = SET8gob " u(ix) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC8}, "$b = SET8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xC9}, "$c = SET8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCA}, "$d = SET8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCB}, "$e = SET8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCC}, "$h = SET8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCD}, "$l = SET8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCE}, "SET8pb " u(ix) ", 1"},
    {{0xDD, 0xCB, bi, 0xCE}, "SET8ob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCF}, "$a = SET8gob " u(ix) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xD0}, "$b = SET8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD1}, "$c = SET8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD2}, "$d = SET8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD3}, "$e = SET8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD4}, "$h = SET8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD5}, "$l = SET8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD6}, "SET8pb " u(ix) ", 2"},
    {{0xDD, 0xCB, bi, 0xD6}, "SET8ob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD7}, "$a = SET8gob " u(ix) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD8}, "$b = SET8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xD9}, "$c = SET8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDA}, "$d = SET8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDB}, "$e = SET8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDC}, "$h = SET8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDD}, "$l = SET8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDE}, "SET8pb " u(ix) ", 3"},
    {{0xDD, 0xCB, bi, 0xDE}, "SET8ob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDF}, "$a = SET8gob " u(ix) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xE0}, "$b = SET8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE1}, "$c = SET8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE2}, "$d = SET8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE3}, "$e = SET8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE4}, "$h = SET8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE5}, "$l = SET8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE6}, "SET8pb " u(ix) ", 4"},
    {{0xDD, 0xCB, bi, 0xE6}, "SET8ob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE7}, "$a = SET8gob " u(ix) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE8}, "$b = SET8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xE9}, "$c = SET8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEA}, "$d = SET8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEB}, "$e = SET8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEC}, "$h = SET8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xED}, "$l = SET8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEE}, "SET8pb " u(ix) ", 5"},
    {{0xDD, 0xCB, bi, 0xEE}, "SET8ob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEF}, "$a = SET8gob " u(ix) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xF0}, "$b = SET8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF1}, "$c = SET8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF2}, "$d = SET8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF3}, "$e = SET8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF4}, "$h = SET8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF5}, "$l = SET8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF6}, "SET8pb " u(ix) ", 6"},
    {{0xDD, 0xCB, bi, 0xF6}, "SET8ob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF7}, "$a = SET8gob " u(ix) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF8}, "$b = SET8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xF9}, "$c = SET8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFA}, "$d = SET8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFB}, "$e = SET8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFC}, "$h = SET8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFD}, "$l = SET8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFE}, "SET8pb " u(ix) ", 7"},
    {{0xDD, 0xCB, bi, 0xFE}, "SET8ob " u(ix) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFF}, "$a = SET8gob " u(ix) ", 0, 7"},
    {{0xDD, 0xE1}, u(ix) " = POP" w "r" imp_def(sp) l "," imp(sp) l},
    {{0xDD, 0xE3}, u(ix) " = EX" w "sa " u(ix) "," imp(sp) l},
    {{0xDD, 0xE5}, "PUSH" w "r " u(ix) "," imp_def(sp) l "," imp(sp) l},
    {{0xDD, 0xE9}, "JP" w "r " u(ix) def_bb},
    {{0xDD, 0xF9}, "LD" w "sa " u(ix) "," imp_def(sp) l},
    {{0xDE, bi}, "SBC8ai 0," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDF}, "RST" w " 24," imp_def(sp) l "," imp(sp) l},
    {{0xE0}, "RET" w "CC" po "," imp_def(sp) l "," imp(f) "," imp(sp) l def_bb},
    {{0xE1}, u(hl) " = POP" w "r" imp_def(sp) l "," imp(sp) l},
    {{0xE2, wi}, "JP" w "CC" bb "," po "," imp(f) def_bb},
    {{0xE3}, u(hl) " = EX" w "sa " u(hl) "," imp(sp) l},
    {{0xE4, wi}, "CALL" w "CC 0," po "," csr "," imp(f) "," imp(sp) l},
    {{0xE5}, "PUSH" w "r " u(hl) "," imp_def(sp) l "," imp(sp) l},
    {{0xE6, bi}, "AND8ai 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xE7}, "RST" w " 32," imp_def(sp) l "," imp(sp) l},
    {{0xE8}, "RET" w "CC" pe "," imp_def(sp) l "," imp(f) "," imp(sp) l def_bb},
    {{0xE9}, "JP" w "r " u(hl) def_bb},
    {{0xEA, wi}, "JP" w "CC" bb "," pe "," imp(f) def_bb},
    {{0xEB}, "EX" w "DE" imp_def_u(de) "," imp_def_u(hl) "," imp_u(de) "," imp_u(hl)},
    {{0xEC, wi}, "CALL" w "CC 0," pe "," csr "," imp(f) "," imp(sp) l},
    {{0xED, 0x00, bi}, "$b = IN8gm 0," imp_def(f)},
    {{0xED, 0x01, bi}, "OUT8mg 0, $b"},
    {{0xED, 0x02, bi}, u(bc) " = LEA" w "ro " u(ix) ", 0"},
    {{0xED, 0x03, bi}, u(bc) " = LEA" w "ro " u(iy) ", 0"},
    {{0xED, 0x04}, "TST8ar $b," imp_def(f) "," imp(a)},
    {{0xED, 0x07}, u(bc) " = LD" w "rp " u(hl)},
    {{0xED, 0x08, bi}, "$c = IN8gm 0," imp_def(f)},
    {{0xED, 0x09, bi}, "OUT8mg 0, $c"},
    {{0xED, 0x0C}, "TST8ar $c," imp_def(f) "," imp(a)},
    {{0xED, 0x0F}, "LD" w "pr " u(hl) ", " u(bc)},
    {{0xED, 0x10, bi}, "$d = IN8gm 0," imp_def(f)},
    {{0xED, 0x11, bi}, "OUT8mg 0, $d"},
    {{0xED, 0x12, bi}, u(de) " = LEA" w "ro " u(ix) ", 0"},
    {{0xED, 0x13, bi}, u(de) " = LEA" w "ro " u(iy) ", 0"},
    {{0xED, 0x14}, "TST8ar $d," imp_def(f) "," imp(a)},
    {{0xED, 0x17}, u(de) " = LD" w "rp " u(hl)},
    {{0xED, 0x18, bi}, "$e = IN8gm 0," imp_def(f)},
    {{0xED, 0x19, bi}, "OUT8mg 0, $e"},
    {{0xED, 0x1C}, "TST8ar $e," imp_def(f) "," imp(a)},
    {{0xED, 0x1F}, "LD" w "pr " u(hl) ", " u(de)},
    {{0xED, 0x20, bi}, "$h = IN8gm 0," imp_def(f)},
    {{0xED, 0x21, bi}, "OUT8mg 0, $h"},
    {{0xED, 0x22, bi}, u(hl) " = LEA" w "ro " u(ix) ", 0"},
    {{0xED, 0x23, bi}, u(hl) " = LEA" w "ro " u(iy) ", 0"},
    {{0xED, 0x24}, "TST8ar $h," imp_def(f) "," imp(a)},
    {{0xED, 0x27}, u(hl) " = LD" w "rp " u(hl)},
    {{0xED, 0x28, bi}, "$l = IN8gm 0," imp_def(f)},
    {{0xED, 0x29, bi}, "OUT8mg 0, $l"},
    {{0xED, 0x2C}, "TST8ar $l," imp_def(f) "," imp(a)},
    {{0xED, 0x2F}, "LD" w "pr " u(hl) ", " u(hl)},
    {{0xED, 0x31}, u(iy) " = LD" w "rp " u(hl)},
    {{0xED, 0x32, bi}, u(ix) " = LEA" w "ro " u(ix) ", 0"},
    {{0xED, 0x33, bi}, u(iy) " = LEA" w "ro " u(iy) ", 0"},
    {{0xED, 0x34}, "TST8ap " u(hl) "," imp_def(f) "," imp(a)},
    {{0xED, 0x37}, u(ix) " = LD" w "rp " u(hl)},
    {{0xED, 0x38, bi}, "$a = IN8gm 0," imp_def(f)},
    {{0xED, 0x39, bi}, "OUT8mg 0, $a"},
    {{0xED, 0x3C}, "TST8ar $a," imp_def(f) "," imp(a)},
    {{0xED, 0x3E}, "LD" w "pr " u(hl) ", " u(iy)},
    {{0xED, 0x3F}, "LD" w "pr " u(hl) ", " u(ix)},
    {{0xED, 0x40}, "$b = IN8gp" imp_def(f) "," imp(bc)},
    {{0xED, 0x41}, "OUT8pg $b," imp(bc)},
    {{0xED, 0x42}, "SBC" w"ao " u(bc) "," imp_def_u(hl) "," imp_def(f) "," imp_u(hl) "," imp(f)},
    {{0xED, 0x43, wi}, "LD" w "mg 0, " u(bc)},
    {{0xED, 0x44}, "NEG" imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xED, 0x45}, "RETN" w imp_def(sp) l "," imp(sp) l def_bb},
    {{0xED, 0x46}, "IM 0"},
    {{0xED, 0x47}, "LD8ia" imp_def(i) "," imp(a)},
    {{0xED, 0x48}, "$c = IN8gp" imp_def(f) "," imp(bc)},
    {{0xED, 0x49}, "OUT8pg $c," imp(bc)},
    {{0xED, 0x4A}, "ADC" w"ao " u(bc) "," imp_def_u(hl) "," imp_def(f) "," imp_u(hl) "," imp(f)},
    {{0xED, 0x4B, wi}, u(bc) " = LD" w "gm 0"},
    {{0xED, 0x4C}, "$bc = MLT16r $bc"},
    {{0xED, 0x4D}, "RETI" w imp_def(sp) l "," imp(sp) l def_bb},
    {{0xED, 0x4F}, "LD8ra" imp_def(r) "," imp(a)},
    {{0xED, 0x50}, "$d = IN8gp" imp_def(f) "," imp(bc)},
    {{0xED, 0x51}, "OUT8pg $d," imp(bc)},
    {{0xED, 0x52}, "SBC" w"ao " u(de) "," imp_def_u(hl) "," imp_def(f) "," imp_u(hl) "," imp(f)},
    {{0xED, 0x53, wi}, "LD" w "mg 0, " u(de)},
    {{0xED, 0x54, bi}, u(ix) " = LEA" w "ro " u(iy) ", 0"},
    {{0xED, 0x55, bi}, u(iy) " = LEA" w "ro " u(ix) ", 0"},
    {{0xED, 0x56}, "IM 1"},
    {{0xED, 0x57}, "LD8ai" imp_def(a) "," imp_def(f) "," imp(i)},
    {{0xED, 0x58}, "$e = IN8gp" imp_def(f) "," imp(bc)},
    {{0xED, 0x59}, "OUT8pg $e," imp(bc)},
    {{0xED, 0x5A}, "ADC" w"ao " u(de) "," imp_def_u(hl) "," imp_def(f) "," imp_u(hl) "," imp(f)},
    {{0xED, 0x5B, wi}, u(de) " = LD" w "gm 0"},
    {{0xED, 0x5C}, "$de = MLT16r $de"},
    {{0xED, 0x5E}, "IM 2"},
    {{0xED, 0x5F}, "LD8ar" imp_def(a) "," imp_def(f) "," imp(r)},
    {{0xED, 0x60}, "$h = IN8gp" imp_def(f) "," imp(bc)},
    {{0xED, 0x61}, "OUT8pg $h," imp(bc)},
    {{0xED, 0x62}, "SBC" w "aa" imp_def_u(hl) "," imp_def(f) "," imp_u(hl) "," imp(f)},
    {{0xED, 0x63, wi}, "LD" w "mg 0, " u(hl)},
    {{0xED, 0x64, bi}, "TST8ai 0," imp_def(f) "," imp(a)},
    {{0xED, 0x65, bi}, "PEA" w "o " u(ix) ", 0," imp_def(sp) l "," imp(sp) l},
    {{0xED, 0x66, bi}, "PEA" w "o " u(iy) ", 0," imp_def(sp) l "," imp(sp) l},
    {{0xED, 0x67}, "RRD" w imp_def(a) "," imp_def(f) "," imp_u(hl) "," imp(a)},
    {{0xED, 0x68}, "$l = IN8gp" imp_def(f) "," imp(bc)},
    {{0xED, 0x69}, "OUT8pg $l," imp(bc)},
    {{0xED, 0x6A}, "ADC" w "aa" imp_def_u(hl) "," imp_def(f) "," imp_u(hl) "," imp(f)},
    {{0xED, 0x6B, wi}, u(hl) " = LD" w "gm 0"},
    {{0xED, 0x6C}, "$hl = MLT16r $hl"},
    {{0xED, 0x6D}, "LD8mba" imp_def(mb) "," imp(a)},
    {{0xED, 0x6E}, "LD8amb" imp_def(a) "," imp(mb)},
    {{0xED, 0x6F}, "RLD" w imp_def(a) "," imp_def(f) "," imp_u(hl) "," imp(a)},
    {{0xED, 0x72}, "SBC" w "as" imp_def_u(hl) "," imp_def(f) "," imp_u(hl) "," imp(sp) l"," imp(f)},
    {{0xED, 0x73, wi}, "LD" w "ms 0," imp(sp) l},
    {{0xED, 0x74, bi}, "TST8mi 0," imp_def(f) "," imp(c)},
    {{0xED, 0x76}, "SLP"},
    {{0xED, 0x78}, "$a = IN8gp" imp_def(f) "," imp(bc)},
    {{0xED, 0x79}, "OUT8pg $a," imp(bc)},
    {{0xED, 0x7A}, "ADC" w "as" imp_def_u(hl) "," imp_def(f) "," imp_u(hl) "," imp(sp) l"," imp(f)},
    {{0xED, 0x7B, wi}, "LD" w "sm 0," imp_def(sp) l},
    {{0xED, 0x7C}, "MLT" w "s" imp_def(sp) l "," imp(sp) l},
    {{0xED, 0x7D}, "STMIX"},
    {{0xED, 0x7E}, "RSMIX"},
    {{0xED, 0x82}, "INMI" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x83}, "OTMI" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x84}, "IN2I" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x8A}, "INMD" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x8B}, "OTMD" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x8C}, "IN2D" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x92}, "INMIR" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x93}, "OTMIR" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x94}, "IN2IR" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x9A}, "INMDR" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x9B}, "OTMDR" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0x9C}, "IN2DR" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0xA0}, "LDI" w imp_def_u(hl) "," imp_def_u(de) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(de) "," imp_u(bc)},
    {{0xED, 0xA1}, "CPI" w imp_def_u(hl) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(bc) "," imp(a)},
    {{0xED, 0xA2}, "INI" w imp_def_u(hl) "," imp_def(bc) "," imp_def(f) "," imp_u(hl) "," imp(bc)},
    {{0xED, 0xA3}, "OUTI" w imp_def_u(hl) "," imp_def(bc) "," imp_def(f) "," imp_u(hl) "," imp(bc)},
    {{0xED, 0xA4}, "OUT2I" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0xA8}, "LDD" w imp_def_u(hl) "," imp_def_u(de) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(de) "," imp_u(bc)},
    {{0xED, 0xA9}, "CPD" w imp_def_u(hl) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(bc) "," imp(a)},
    {{0xED, 0xAA}, "IND" w imp_def_u(hl) "," imp_def(bc) "," imp_def(f) "," imp_u(hl) "," imp(bc)},
    {{0xED, 0xAB}, "OUTD" w imp_def_u(hl) "," imp_def(bc) "," imp_def(f) "," imp_u(hl) "," imp(bc)},
    {{0xED, 0xAC}, "OUT2D" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0xB0}, "LDIR" w imp_def_u(hl) "," imp_def_u(de) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(de) "," imp_u(bc)},
    {{0xED, 0xB1}, "CPIR" w imp_def_u(hl) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(bc) "," imp(a)},
    {{0xED, 0xB2}, "INIR" w imp_def_u(hl) "," imp_def(bc) "," imp_def(f) "," imp_u(hl) "," imp(bc)},
    {{0xED, 0xB3}, "OUTIR" w imp_def_u(hl) "," imp_def(bc) "," imp_def(f) "," imp_u(hl) "," imp(bc)},
    {{0xED, 0xB4}, "OUT2IR" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0xB8}, "LDDR" w imp_def_u(hl) "," imp_def_u(de) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(de) "," imp_u(bc)},
    {{0xED, 0xB9}, "CPDR" w imp_def_u(hl) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(bc) "," imp(a)},
    {{0xED, 0xBA}, "INDR" w imp_def_u(hl) "," imp_def(bc) "," imp_def(f) "," imp_u(hl) "," imp(bc)},
    {{0xED, 0xBB}, "OUTDR" w imp_def_u(hl) "," imp_def(bc) "," imp_def(f) "," imp_u(hl) "," imp(bc)},
    {{0xED, 0xBC}, "OUT2DR" w imp_def_u(hl) "," imp_def(c) "," imp_def(b) "," imp_def(f) "," imp_u(hl) "," imp(c) "," imp(b)},
    {{0xED, 0xC2}, "INIRX" w imp_def_u(hl) "," imp_def_u(de) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(de) "," imp_u(bc)},
    {{0xED, 0xC3}, "OTIRX" w imp_def_u(hl) "," imp_def_u(de) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(de) "," imp_u(bc)},
    {{0xED, 0xC7}, "LD16ia" imp_def(i) "," imp(hl)},
    {{0xED, 0xCA}, "INDRX" w imp_def_u(hl) "," imp_def_u(de) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(de) "," imp_u(bc)},
    {{0xED, 0xCB}, "OTDRX" w imp_def_u(hl) "," imp_def_u(de) "," imp_def_u(bc) "," imp_def(f) "," imp_u(hl) "," imp_u(de) "," imp_u(bc)},
    {{0xED, 0xD7}, "LD" w "ai" imp_def_u(hl) "," imp(i) "," imp(mb)},
    {{0xEE, bi}, "XOR8ai 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xEF}, "RST" w " 40," imp_def(sp) l "," imp(sp) l},
    {{0xF0}, "RET" w "CC" p "," imp_def(sp) l "," imp(f) "," imp(sp) l def_bb},
    {{0xF1}, "POP" w "AF" imp_def(af) "," imp_def(sp) l "," imp(sp) l},
    {{0xF2, wi}, "JP" w "CC" bb "," p "," imp(f) def_bb},
    {{0xF3}, "DI"},
    {{0xF4, wi}, "CALL" w "CC 0," p "," csr "," imp(f) "," imp(sp) l},
    {{0xF5}, "PUSH" w "AF" imp_def(sp) l "," imp(af) "," imp(sp) l},
    {{0xF6, bi}, "OR8ai 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xF7}, "RST" w " 48," imp_def(sp) l "," imp(sp) l},
    {{0xF8}, "RET" w "CC" m "," imp_def(sp) l "," imp(f) "," imp(sp) l def_bb},
    {{0xF9}, "LD" w "sa " u(hl) "," imp_def(sp) l},
    {{0xFA, wi}, "JP" w "CC" bb "," m "," imp(f) def_bb},
    {{0xFB}, "EI"},
    {{0xFC, wi}, "CALL" w "CC 0," m "," csr "," imp(f) "," imp(sp) l},
    {{0xDD, 0x07, bi}, u(bc) " = LD" w "rp " u(iy)},
    {{0xDD, 0x07, bi}, u(bc) " = LD" w "ro " u(iy) ", 0"},
    {{0xDD, 0x09}, u(iy) " = ADD" w "ao " u(iy) ", " u(bc) "," imp_def(f)},
    {{0xDD, 0x0F, bi}, "LD" w "pr " u(iy) ", " u(bc)},
    {{0xDD, 0x0F, bi}, "LD" w "or " u(iy) ", 0, " u(bc)},
    {{0xDD, 0x17, bi}, u(de) " = LD" w "rp " u(iy)},
    {{0xDD, 0x17, bi}, u(de) " = LD" w "ro " u(iy) ", 0"},
    {{0xDD, 0x19}, u(iy) " = ADD" w "ao " u(iy) ", " u(de) "," imp_def(f)},
    {{0xDD, 0x1F, bi}, "LD" w "pr " u(iy) ", " u(de)},
    {{0xDD, 0x1F, bi}, "LD" w "or " u(iy) ", 0, " u(de)},
    {{0xDD, 0x21, wi}, u(iy) " = LD" w "ri i" w " 0"},
    {{0xDD, 0x22, wi}, "LD" w "ma 0, " u(iy) ""},
    {{0xDD, 0x23}, u(iy) " = INC" w "r " u(iy) ""},
    {{0xDD, 0x24}, "$iyh = INC8r $iyh," imp_def(f)},
    {{0xDD, 0x25}, "$iyh = DEC8r $iyh," imp_def(f)},
    {{0xDD, 0x26, bi}, "$iyh = LD8ri i8 0"},
    {{0xDD, 0x27, bi}, u(hl) " = LD" w "rp " u(iy)},
    {{0xDD, 0x27, bi}, u(hl) " = LD" w "ro " u(iy) ", 0"},
    {{0xDD, 0x29}, u(iy) " = ADD" w "aa " u(iy) "," imp_def(f)},
    {{0xDD, 0x2A, wi}, u(iy) " = LD" w "am 0"},
    {{0xDD, 0x2A}, u(iy) " = DEC" w "r " u(iy) ""},
    {{0xDD, 0x2C}, "$iyl = INC8r $iyl," imp_def(f)},
    {{0xDD, 0x2D}, "$iyl = DEC8r $iyl," imp_def(f)},
    {{0xDD, 0x2E, bi}, "$iyl = LD8ri i8 0"},
    {{0xDD, 0x2F, bi}, "LD" w "pr " u(iy) ", " u(hl)},
    {{0xDD, 0x2F, bi}, "LD" w "or " u(iy) ", 0, " u(hl)},
    {{0xDD, 0x31, bi}, u(ix) " = LD" w "rp " u(iy)},
    {{0xDD, 0x31, bi}, u(ix) " = LD" w "ro " u(iy) ", 0"},
    {{0xDD, 0x34, bi}, "INC8p " u(iy) "," imp_def(f)},
    {{0xDD, 0x34, bi}, "INC8o " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0x35, bi}, "DEC8p " u(iy) "," imp_def(f)},
    {{0xDD, 0x35, bi}, "DEC8o " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0x36, bi, bi}, "LD8pi " u(iy) ", 0"},
    {{0xDD, 0x36, bi, bi}, "LD8oi " u(iy) ", 0, 0"},
    {{0xDD, 0x37, bi}, u(iy) " = LD" w "rp " u(iy)},
    {{0xDD, 0x37, bi}, u(iy) " = LD" w "ro " u(iy) ", 0"},
    {{0xDD, 0x39}, u(iy) " = ADD" w "as " u(iy) "," imp_def(sp) l "," imp_def(f) "," imp(sp)    l},
    {{0xDD, 0x3E, bi}, "LD" w "pr " u(iy) ", " u(ix)},
    {{0xDD, 0x3E, bi}, "LD" w "or " u(iy) ", 0, " u(ix)},
    {{0xDD, 0x3F, bi}, "LD" w "pr " u(iy) ", " u(iy)},
    {{0xDD, 0x3F, bi}, "LD" w "or " u(iy) ", 0, " u(iy)},
    {{0xDD, 0x44}, "$b = LD8yy $iyh"},
    {{0xDD, 0x45}, "$b = LD8yy $iyl"},
    {{0xDD, 0x46, bi}, "$b = LD8gp " u(iy)},
    {{0xDD, 0x46, bi}, "$b = LD8go " u(iy) ", 0"},
    {{0xDD, 0x4C}, "$c = LD8yy $iyh"},
    {{0xDD, 0x4D}, "$c = LD8yy $iyl"},
    {{0xDD, 0x4E, bi}, "$c = LD8gp " u(iy)},
    {{0xDD, 0x4E, bi}, "$c = LD8go " u(iy) ", 0"},
    {{0xDD, 0x54}, "$d = LD8yy $iyh"},
    {{0xDD, 0x55}, "$d = LD8yy $iyl"},
    {{0xDD, 0x56, bi}, "$d = LD8gp " u(iy)},
    {{0xDD, 0x56, bi}, "$d = LD8go " u(iy) ", 0"},
    {{0xDD, 0x5C}, "$e = LD8yy $iyh"},
    {{0xDD, 0x5D}, "$e = LD8yy $iyl"},
    {{0xDD, 0x5E, bi}, "$e = LD8gp " u(iy)},
    {{0xDD, 0x5E, bi}, "$e = LD8go " u(iy) ", 0"},
    {{0xDD, 0x60}, "$iyh = LD8yy $b"},
    {{0xDD, 0x61}, "$iyh = LD8yy $c"},
    {{0xDD, 0x62}, "$iyh = LD8yy $d"},
    {{0xDD, 0x63}, "$iyh = LD8yy $e"},
    {{0xDD, 0x64}, "$iyh = LD8yy $iyh"},
    {{0xDD, 0x65}, "$iyh = LD8yy $iyl"},
    {{0xDD, 0x66, bi}, "$h = LD8gp " u(iy)},
    {{0xDD, 0x66, bi}, "$h = LD8go " u(iy) ", 0"},
    {{0xDD, 0x67}, "$iyh = LD8yy $a"},
    {{0xDD, 0x68}, "$iyl = LD8yy $b"},
    {{0xDD, 0x69}, "$iyl = LD8yy $c"},
    {{0xDD, 0x6A}, "$iyl = LD8yy $d"},
    {{0xDD, 0x6B}, "$iyl = LD8yy $e"},
    {{0xDD, 0x6C}, "$iyl = LD8yy $iyh"},
    {{0xDD, 0x6D}, "$iyl = LD8yy $iyl"},
    {{0xDD, 0x6E, bi}, "$l = LD8gp " u(iy)},
    {{0xDD, 0x6E, bi}, "$l = LD8go " u(iy) ", 0"},
    {{0xDD, 0x6F}, "$iyl = LD8yy $a"},
    {{0xDD, 0x70, bi}, "LD8pg " u(iy) ", $b"},
    {{0xDD, 0x70, bi}, "LD8og " u(iy) ", 0, $b"},
    {{0xDD, 0x71, bi}, "LD8pg " u(iy) ", $c"},
    {{0xDD, 0x71, bi}, "LD8og " u(iy) ", 0, $c"},
    {{0xDD, 0x72, bi}, "LD8pg " u(iy) ", $d"},
    {{0xDD, 0x72, bi}, "LD8og " u(iy) ", 0, $d"},
    {{0xDD, 0x73, bi}, "LD8pg " u(iy) ", $e"},
    {{0xDD, 0x73, bi}, "LD8og " u(iy) ", 0, $e"},
    {{0xDD, 0x74, bi}, "LD8pg " u(iy) ", $h"},
    {{0xDD, 0x74, bi}, "LD8og " u(iy) ", 0, $h"},
    {{0xDD, 0x75, bi}, "LD8pg " u(iy) ", $l"},
    {{0xDD, 0x75, bi}, "LD8og " u(iy) ", 0, $l"},
    {{0xDD, 0x77, bi}, "LD8pg " u(iy) ", $a"},
    {{0xDD, 0x77, bi}, "LD8og " u(iy) ", 0, $a"},
    {{0xDD, 0x7C}, "$a = LD8yy $iyh"},
    {{0xDD, 0x7D}, "$a = LD8yy $iyl"},
    {{0xDD, 0x7E, bi}, "$a = LD8gp " u(iy)},
    {{0xDD, 0x7E, bi}, "$a = LD8go " u(iy) ", 0"},
    {{0xDD, 0x84}, "ADD8ar $iyh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x85}, "ADD8ar $iyl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x86, bi}, "ADD8ap " u(iy) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x86, bi}, "ADD8ao " u(iy) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x8C}, "ADC8ar $iyh," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x8D}, "ADC8ar $iyl," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x8E, bi}, "ADC8ap " u(iy) "," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x8E, bi}, "ADC8ao " u(iy) ", 0," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x94}, "SUB8ar $iyh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x95}, "SUB8ar $iyl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x96, bi}, "SUB8ap " u(iy) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x96, bi}, "SUB8ao " u(iy) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0x9C}, "SBC8ar $iyh," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x9D}, "SBC8ar $iyl," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x9E, bi}, "SBC8ap " u(iy) "," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0x9E, bi}, "SBC8ao " u(iy) ", 0," imp_def(a) "," imp_def(f) "," imp(a) "," imp(f)},
    {{0xDD, 0xA4}, "AND8ar $iyh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xA5}, "AND8ar $iyl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xA6, bi}, "AND8ap " u(iy) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xA6, bi}, "AND8ao " u(iy) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xAC}, "XOR8ar $iyh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xAD}, "XOR8ar $iyl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xAE, bi}, "XOR8ap " u(iy) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xAE, bi}, "XOR8ao " u(iy) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xB4}, "OR8ar $iyh," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xB5}, "OR8ar $iyl," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xB6, bi}, "OR8ap " u(iy) "," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xB6, bi}, "OR8ao " u(iy) ", 0," imp_def(a) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xBC}, "CP8ar $iyh," imp_def(f) "," imp(a)},
    {{0xDD, 0xBD}, "CP8ar $iyl," imp_def(f) "," imp(a)},
    {{0xDD, 0xBE, bi}, "CP8ap " u(iy) "," imp_def(f) "," imp(a)},
    {{0xDD, 0xBE, bi}, "CP8ao " u(iy) ", 0," imp_def(f) "," imp(a)},
    {{0xDD, 0xCB, bi, 0x00}, "$b = RLC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x01}, "$c = RLC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x02}, "$d = RLC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x03}, "$e = RLC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x04}, "$h = RLC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x05}, "$l = RLC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x06}, "RLC8p " u(iy) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x06}, "RLC8o " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x07}, "$a = RLC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x08}, "$b = RRC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x09}, "$c = RRC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0A}, "$d = RRC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0B}, "$e = RRC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0C}, "$h = RRC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0D}, "$l = RRC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0E}, "RRC8p " u(iy) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0E}, "RRC8o " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x0F}, "$a = RRC8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x10}, "$b = RL8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x11}, "$c = RL8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x12}, "$d = RL8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x13}, "$e = RL8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x14}, "$h = RL8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x15}, "$l = RL8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x16}, "RL8p " u(iy) "," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x16}, "RL8o " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x17}, "$a = RL8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x18}, "$b = RR8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x19}, "$c = RR8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1A}, "$d = RR8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1B}, "$e = RR8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1C}, "$h = RR8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1D}, "$l = RR8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1E}, "RR8p " u(iy) "," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1E}, "RR8o " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x1F}, "$a = RR8go " u(iy) ", 0," imp_def(f) "," imp(f)},
    {{0xDD, 0xCB, bi, 0x20}, "$b = SLA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x21}, "$c = SLA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x22}, "$d = SLA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x23}, "$e = SLA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x24}, "$h = SLA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x25}, "$l = SLA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x26}, "SLA8p " u(iy) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x26}, "SLA8o " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x27}, "$a = SLA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x28}, "$b = SRA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x29}, "$c = SRA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2A}, "$d = SRA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2B}, "$e = SRA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2C}, "$h = SRA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2D}, "$l = SRA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2E}, "SRA8p " u(iy) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2E}, "SRA8o " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x2F}, "$a = SRA8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x30}, "$b = SLI8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x31}, "$c = SLI8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x32}, "$d = SLI8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x33}, "$e = SLI8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x34}, "$h = SLI8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x35}, "$l = SLI8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x36}, "SLI8p " u(iy) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x36}, "SLI8o " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x37}, "$a = SLI8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x38}, "$b = SRL8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x39}, "$c = SRL8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3A}, "$d = SRL8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3B}, "$e = SRL8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3C}, "$h = SRL8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3D}, "$l = SRL8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3E}, "SRL8p " u(iy) "," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3E}, "SRL8o " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x3F}, "$a = SRL8go " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x46}, "BIT8pb " u(iy) ", 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x46}, "BIT8ob " u(iy) ", 0, 0," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x4E}, "BIT8pb " u(iy) ", 1," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x4E}, "BIT8ob " u(iy) ", 0, 1," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x56}, "BIT8pb " u(iy) ", 2," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x56}, "BIT8ob " u(iy) ", 0, 2," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x5E}, "BIT8pb " u(iy) ", 3," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x5E}, "BIT8ob " u(iy) ", 0, 3," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x66}, "BIT8pb " u(iy) ", 4," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x66}, "BIT8ob " u(iy) ", 0, 4," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x6E}, "BIT8pb " u(iy) ", 5," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x6E}, "BIT8ob " u(iy) ", 0, 5," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x76}, "BIT8pb " u(iy) ", 6," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x76}, "BIT8ob " u(iy) ", 0, 6," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x7E}, "BIT8pb " u(iy) ", 7," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x7E}, "BIT8ob " u(iy) ", 0, 7," imp_def(f)},
    {{0xDD, 0xCB, bi, 0x80}, "$b = RES8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x81}, "$c = RES8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x82}, "$d = RES8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x83}, "$e = RES8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x84}, "$h = RES8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x85}, "$l = RES8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x86}, "RES8pb " u(iy) ", 0"},
    {{0xDD, 0xCB, bi, 0x86}, "RES8ob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x87}, "$a = RES8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0x88}, "$b = RES8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x89}, "$c = RES8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8A}, "$d = RES8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8B}, "$e = RES8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8C}, "$h = RES8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8D}, "$l = RES8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8E}, "RES8pb " u(iy) ", 1"},
    {{0xDD, 0xCB, bi, 0x8E}, "RES8ob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x8F}, "$a = RES8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0x90}, "$b = RES8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x91}, "$c = RES8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x92}, "$d = RES8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x93}, "$e = RES8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x94}, "$h = RES8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x95}, "$l = RES8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x96}, "RES8pb " u(iy) ", 2"},
    {{0xDD, 0xCB, bi, 0x96}, "RES8ob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x97}, "$a = RES8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0x98}, "$b = RES8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x99}, "$c = RES8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9A}, "$d = RES8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9B}, "$e = RES8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9C}, "$h = RES8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9D}, "$l = RES8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9E}, "RES8pb " u(iy) ", 3"},
    {{0xDD, 0xCB, bi, 0x9E}, "RES8ob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0x9F}, "$a = RES8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xA0}, "$b = RES8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA1}, "$c = RES8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA2}, "$d = RES8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA3}, "$e = RES8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA4}, "$h = RES8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA5}, "$l = RES8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA6}, "RES8pb " u(iy) ", 4"},
    {{0xDD, 0xCB, bi, 0xA6}, "RES8ob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA7}, "$a = RES8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xA8}, "$b = RES8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xA9}, "$c = RES8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAA}, "$d = RES8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAB}, "$e = RES8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAC}, "$h = RES8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAD}, "$l = RES8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAE}, "RES8pb " u(iy) ", 5"},
    {{0xDD, 0xCB, bi, 0xAE}, "RES8ob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xAF}, "$a = RES8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xB0}, "$b = RES8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB1}, "$c = RES8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB2}, "$d = RES8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB3}, "$e = RES8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB4}, "$h = RES8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB5}, "$l = RES8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB6}, "RES8pb " u(iy) ", 6"},
    {{0xDD, 0xCB, bi, 0xB6}, "RES8ob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB7}, "$a = RES8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xB8}, "$b = RES8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xB9}, "$c = RES8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBA}, "$d = RES8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBB}, "$e = RES8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBC}, "$h = RES8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBD}, "$l = RES8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBE}, "RES8pb " u(iy) ", 7"},
    {{0xDD, 0xCB, bi, 0xBE}, "RES8ob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xBF}, "$a = RES8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xC0}, "$b = SET8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC1}, "$c = SET8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC2}, "$d = SET8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC3}, "$e = SET8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC4}, "$h = SET8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC5}, "$l = SET8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC6}, "SET8pb " u(iy) ", 0"},
    {{0xDD, 0xCB, bi, 0xC6}, "SET8ob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC7}, "$a = SET8gob " u(iy) ", 0, 0"},
    {{0xDD, 0xCB, bi, 0xC8}, "$b = SET8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xC9}, "$c = SET8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCA}, "$d = SET8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCB}, "$e = SET8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCC}, "$h = SET8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCD}, "$l = SET8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCE}, "SET8pb " u(iy) ", 1"},
    {{0xDD, 0xCB, bi, 0xCE}, "SET8ob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xCF}, "$a = SET8gob " u(iy) ", 0, 1"},
    {{0xDD, 0xCB, bi, 0xD0}, "$b = SET8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD1}, "$c = SET8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD2}, "$d = SET8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD3}, "$e = SET8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD4}, "$h = SET8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD5}, "$l = SET8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD6}, "SET8pb " u(iy) ", 2"},
    {{0xDD, 0xCB, bi, 0xD6}, "SET8ob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD7}, "$a = SET8gob " u(iy) ", 0, 2"},
    {{0xDD, 0xCB, bi, 0xD8}, "$b = SET8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xD9}, "$c = SET8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDA}, "$d = SET8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDB}, "$e = SET8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDC}, "$h = SET8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDD}, "$l = SET8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDE}, "SET8pb " u(iy) ", 3"},
    {{0xDD, 0xCB, bi, 0xDE}, "SET8ob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xDF}, "$a = SET8gob " u(iy) ", 0, 3"},
    {{0xDD, 0xCB, bi, 0xE0}, "$b = SET8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE1}, "$c = SET8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE2}, "$d = SET8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE3}, "$e = SET8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE4}, "$h = SET8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE5}, "$l = SET8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE6}, "SET8pb " u(iy) ", 4"},
    {{0xDD, 0xCB, bi, 0xE6}, "SET8ob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE7}, "$a = SET8gob " u(iy) ", 0, 4"},
    {{0xDD, 0xCB, bi, 0xE8}, "$b = SET8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xE9}, "$c = SET8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEA}, "$d = SET8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEB}, "$e = SET8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEC}, "$h = SET8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xED}, "$l = SET8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEE}, "SET8pb " u(iy) ", 5"},
    {{0xDD, 0xCB, bi, 0xEE}, "SET8ob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xEF}, "$a = SET8gob " u(iy) ", 0, 5"},
    {{0xDD, 0xCB, bi, 0xF0}, "$b = SET8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF1}, "$c = SET8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF2}, "$d = SET8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF3}, "$e = SET8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF4}, "$h = SET8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF5}, "$l = SET8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF6}, "SET8pb " u(iy) ", 6"},
    {{0xDD, 0xCB, bi, 0xF6}, "SET8ob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF7}, "$a = SET8gob " u(iy) ", 0, 6"},
    {{0xDD, 0xCB, bi, 0xF8}, "$b = SET8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xF9}, "$c = SET8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFA}, "$d = SET8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFB}, "$e = SET8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFC}, "$h = SET8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFD}, "$l = SET8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFE}, "SET8pb " u(iy) ", 7"},
    {{0xDD, 0xCB, bi, 0xFE}, "SET8ob " u(iy) ", 0, 7"},
    {{0xDD, 0xCB, bi, 0xFF}, "$a = SET8gob " u(iy) ", 0, 7"},
    {{0xDD, 0xE1}, u(iy) " = POP" w "r" imp_def(sp) l "," imp(sp) l},
    {{0xDD, 0xE3}, u(iy) " = EX" w "sa " u(iy) "," imp(sp) l},
    {{0xDD, 0xE5}, "PUSH" w "r " u(iy) "," imp_def(sp) l "," imp(sp) l},
    {{0xDD, 0xE9}, "JP" w "r " u(iy) def_bb},
    {{0xDD, 0xF9}, "LD" w "sa " u(iy) "," imp_def(sp) l},
    {{0xFE, bi}, "CP8ai 0," imp_def(f) "," imp(a)},
    {{0xFF}, "RST" w " 56," imp_def(sp) l "," imp(sp) l},
#undef imp_u
#undef imp
#undef imp_def_u
#undef imp_def
#undef m
#undef p
#undef pe
#undef po
#undef c
#undef nc
#undef z
#undef nz
#undef bb
#undef csr
#undef u
#undef l
#undef w
};

void checkInstructionSizes(StringRef T) {
  std::string TT(Triple::normalize(T));

  LLVMInitializeZ80TargetInfo();
  LLVMInitializeZ80Target();
  LLVMInitializeZ80TargetMC();

  std::string Error;
  auto *TheTarget = TargetRegistry::lookupTarget(TT, Error);
  ASSERT_TRUE(TheTarget);

  std::unique_ptr<Z80TargetMachine> TM(static_cast<Z80TargetMachine *>(
      TheTarget->createTargetMachine(TT, "generic", "", {}, None)));
  ASSERT_TRUE(TM);

  Z80Subtarget STI(TM->getTargetTriple(), TM->getTargetCPU(),
                   TM->getTargetCPU(), TM->getTargetFeatureString(), *TM);
  bool Is24Bit = STI.is24Bit();
  auto *TII = STI.getInstrInfo();
  ASSERT_TRUE(TII);

  std::string MIR;
  {
    raw_string_ostream S(MIR);
    int BBCounter = 0;
    Counter BB("bb.", BBCounter);
    S << formatv("--- |\n"
                 "  define void @InstSizes() {{\n"
                 "    ret void\n"
                 "  }\n"
                 "\n"
                 "...\n"
                 "---\n"
                 "name:            InstSizes\n"
                 "body:             |\n"
                 "  {0:+}:\n",
                 BB);
    for (const TestInstr &TI : TestInstrs)
      S << "    "
        << formatv(TI.MIR, Is24Bit ? 24 : 16, Is24Bit ? 'l' : 's',
                   Is24Bit ? "u" : "", Is24Bit ? "e" : "", BB)
        << '\n';
    S << "\n...\n";
  }

  auto Buffer = MemoryBuffer::getMemBuffer(MIR);
  ASSERT_TRUE(Buffer);

  LLVMContext Context;
  auto Parser = createMIRParser(std::move(Buffer), Context);
  ASSERT_TRUE(Parser);

  auto M = Parser->parseIRModule();
  ASSERT_TRUE(M);

  M->setDataLayout(TM->createDataLayout());
  M->setTargetTriple(TM->getTargetTriple().getTriple());

  MachineModuleInfo MMI(TM.get());
  ASSERT_FALSE(Parser->parseMachineFunctions(*M, MMI));

  auto *F = M->getFunction("InstSizes");
  ASSERT_TRUE(F);
  auto &MF = MMI.getOrCreateMachineFunction(*F);

  ASSERT_EQ(MF.getInstructionCount(), array_lengthof(TestInstrs));
  auto TI = std::begin(TestInstrs);
  for (const auto &MBB : MF)
    for (const auto &MI : MBB) {
      EXPECT_FALSE(MI.isPseudo());
      unsigned ActualSize = unsigned(TI++->Enc.Size[Is24Bit]);
      EXPECT_EQ(TII->getInstSizeInBytes(MI), ActualSize) << MI;
    }
}

} // end anonymous namespace

TEST(InstSizes, Z80) { checkInstructionSizes("z80"); }

TEST(InstSizes, Z180) { checkInstructionSizes("z180"); }

TEST(InstSizes, eZ80_Z80) { checkInstructionSizes("ez80-code16"); }

TEST(InstSizes, eZ80) { checkInstructionSizes("ez80"); }
